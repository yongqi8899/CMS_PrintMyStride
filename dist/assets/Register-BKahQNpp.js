import{e as y,d as C,r as x,j as e,N as A,L as S,f as E,B as h}from"./index-M22Rdf-U.js";import{G as g,M as P}from"./index-DNGU1Kow.js";function p(s){return g({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 176.001C512 273.203 433.202 352 336 352c-11.22 0-22.19-1.062-32.827-3.069l-24.012 27.014A23.999 23.999 0 0 1 261.223 384H224v40c0 13.255-10.745 24-24 24h-40v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24v-78.059c0-6.365 2.529-12.47 7.029-16.971l161.802-161.802C163.108 213.814 160 195.271 160 176 160 78.798 238.797.001 335.999 0 433.488-.001 512 78.511 512 176.001zM336 128c0 26.51 21.49 48 48 48s48-21.49 48-48-21.49-48-48-48-48 21.49-48 48z"},child:[]}]})(s)}function M(s){return g({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(s)}function L(){var u;const s=y(),{isAuthenticated:f,setCheckSession:w,setIsAuthenticated:j}=C(),[{userName:i,email:o,password:a,confirmPassword:c},d]=x.useState({userName:"",email:"",password:"",confirmPassword:""}),[v,m]=x.useState(!1),N=()=>{d({userName:"",email:"",password:"",confirmPassword:""})},r=t=>d(n=>({...n,[t.target.name]:t.target.value})),b=async t=>{var n;try{if(t.preventDefault(),!i||!o||!a||!c)throw new Error("All fields are required");if(a!==c)throw new Error("Passwords do not match");m(!0);const l=await E({userName:i,email:o,password:a});h.success(l.success),j(!0),w(!0),s(((n=location.state)==null?void 0:n.next)||"/")}catch(l){h.error(l.message),l.message==="User already exists"&&(N(),s("/login"))}finally{m(!1)}};return f?e.jsx(A,{to:((u=location.state)==null?void 0:u.next)||"/"}):e.jsx("div",{className:"flex flex-wrap items-center min-h-[calc(100vh-4rem)] justify-around",children:e.jsx("div",{className:"w-4/5 p-10 m-auto border rounded-2xl md:w-2/5 bg-neutral",children:e.jsxs("form",{className:"flex flex-col gap-3 ",onSubmit:b,children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Signup"}),e.jsxs("label",{className:"flex items-center gap-2 grow input input-bordered",children:[e.jsx(M,{}),e.jsx("input",{name:"userName",value:i,onChange:r,className:"grow",placeholder:"User name"})]}),e.jsxs("label",{className:"flex items-center gap-2 input input-bordered",children:[e.jsx(P,{}),e.jsx("input",{name:"email",value:o,onChange:r,type:"email",className:"grow",placeholder:"Email"})]}),e.jsxs("label",{className:"flex items-center gap-2 grow input input-bordered",children:[e.jsx(p,{}),e.jsx("input",{name:"password",value:a,onChange:r,type:"password",className:"grow",placeholder:"Password"})]}),e.jsxs("label",{className:"flex items-center gap-2 grow input input-bordered",children:[e.jsx(p,{}),e.jsx("input",{name:"confirmPassword",value:c,onChange:r,type:"password",className:"grow",placeholder:"Confirm your password..."})]}),e.jsx("button",{className:"btn btn-gradient-blue",disabled:v,children:"Create Account"}),e.jsxs("div",{className:"relative flex items-center my-1",children:[e.jsx("div",{className:"flex-grow border-t"}),e.jsx("span",{className:"flex-shrink mx-4 text-xs",children:"OR"}),e.jsx("div",{className:"flex-grow border-t "})]}),e.jsx("div",{className:"flex justify-center"}),e.jsxs("small",{children:["Already have an account?"," ",e.jsx(S,{to:"/login",className:"text-primary hover:underline",children:"Log in!"})]})]})})})}export{L as default};
